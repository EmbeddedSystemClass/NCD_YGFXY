/***************************************************************************************************
*FileName:SystemResetFun
*Description:	恢复出厂设置
*Author: xsx_kair
*Data:2017年2月16日11:16:38
***************************************************************************************************/

/***************************************************************************************************/
/******************************************Header List********************************************/
/***************************************************************************************************/
#include	"SystemResetFun.h"

#include	"SystemSet_Dao.h"
#include	"UserDao.h"
#include	"WifiDao.h"

#include	"SystemSet_Data.h"

#include	"MyMem.h"
/***************************************************************************************************/
/***************************************************************************************************/
/***************************************************************************************************/

/***************************************************************************************************/
/***************************************************************************************************/
/***************************************************************************************************/

/***************************************************************************************************/
/***************************************************************************************************/
/***************************************************************************************************/
/****************************************File Start*************************************************/
/***************************************************************************************************/
/***************************************************************************************************/

/***************************************************************************************************
*FunctionName: SystemReset
*Description: 恢复出厂设置
*Input: 
*Output: 
*Return: 
*Author: xsx
*Date: 2017年2月16日11:20:46
***************************************************************************************************/
MyState_TypeDef SystemReset(void)
{
	SystemSetData * systemSetData = NULL;
	
	systemSetData = MyMalloc(sizeof(SystemSetData));
	if(systemSetData)
	{
		setDefaultSystemSetData(systemSetData);
		if(My_Pass != SaveSystemSetData(systemSetData))
			return My_Fail;
	}
	else
		return My_Fail;
	
	//删除操作人
	if(My_Fail == ClearUsers())
		return My_Fail;
	
	//删除wifi数据
	if(My_Fail == ClearWifi())
		return My_Fail;
	
	return My_Pass;
}



/****************************************end of file************************************************/
