/***************************************************************************************************
*FileName:SDFunction
*Description:一些SD卡的操作函数
*Author:xsx
*Data:2016年4月30日16:06:36
***************************************************************************************************/


/***************************************************************************************************/
/******************************************头文件***************************************************/
/***************************************************************************************************/
#include	"Universal_Fun.h"

#include	"RTC_Driver.h"
#include	"CardStatues_Data.h"
#include	"CardLimit_Driver.h"
#include	"System_Data.h"

#include	"Define.h"

#include 	"FreeRTOS.h"
#include 	"task.h"
#include 	"queue.h"
#include	"semphr.h"

#include	<string.h>
#include	"stdio.h"
#include 	"stdlib.h"


/***************************************************************************************************/
/**************************************局部变量声明*************************************************/
/***************************************************************************************************/

/***************************************************************************************************/
/**************************************局部函数声明*************************************************/
/***************************************************************************************************/





/***************************************************************************************************/
/***************************************************************************************************/
/***************************************正文********************************************************/
/***************************************************************************************************/
/***************************************************************************************************/
/***************************************************************************************************/

void CheckCardStatues(void)
{
	CardState_Def temps = NoCard;
	
	if(CardPinIn)
		temps = CardIN;
	else
		temps = NoCard;
	
	if(temps != GetCardState())
	{
		SetCardState(temps);
		SendCardStatuesToQueue(&temps, 10*portTICK_RATE_MS);
	}
}

void UpDateGB_Time(void)
{
	MyTime_Def time ;
	
	RTC_GetTimeData(&time);

	SetGB_Time(&time);	
}
