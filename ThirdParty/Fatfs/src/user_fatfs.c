//-------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------
/*
 * test_fatfs.c
 *
 * Created: 2012-5-2 10:10:02
 *  Author: Administrator
 */
//-------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------
#include	"user_fatfs.h"
#include 	"SD_SPI_Driver.h"
//-------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------
static FATFS S_Fatfs;				/* File system object */

//-------------------------------------------------------------------------------------------
void FatfsInit(void)
{
	SD_LowLevel_Init();
	SD_Init();

	f_mount(&S_Fatfs, "0:", 1);
	SD_GetCardInfo(&SD_CardInfo);
}


void testdat(void)
{
	static FIL file;
	unsigned int bw = 0;
	FRESULT res;
	
	res = f_open(&file, "0:/xsx.txt", FA_OPEN_ALWAYS | FA_READ | FA_WRITE);
	
	res = f_write(&file, "12345678901234567890", 20, &bw);
	
	res = f_lseek(&file, 10);
	
	res = f_write(&file, "abc", 3, &bw);
	f_close(&file);
}
